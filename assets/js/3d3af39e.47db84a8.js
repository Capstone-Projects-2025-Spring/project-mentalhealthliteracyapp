"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[2717],{8616:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var s=i(74848),t=i(28453);const l={sidebar_position:3},o="Component Unit Tests",r={id:"testing/component-unit-testing",title:"Component Unit Tests",description:"Unit Testing Library Explanation",source:"@site/docs/testing/component-unit-testing.md",sourceDirName:"testing",slug:"/testing/component-unit-testing",permalink:"/project-mentalhealthliteracyapp/docs/testing/component-unit-testing",draft:!1,unlisted:!1,editUrl:"https://github.com/Capstone-Projects-2025-Spring/project-mentalhealthliteracyapp/edit/main/documentation/docs/testing/component-unit-testing.md",tags:[],version:"current",lastUpdatedBy:"Shyke50",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Acceptance Tests",permalink:"/project-mentalhealthliteracyapp/docs/testing/acceptance-testing"}},c={},d=[{value:"Unit Testing Library Explanation",id:"unit-testing-library-explanation",level:2},{value:"Component Overview",id:"component-overview",level:2},{value:"<code>BackButton</code>",id:"backbutton",level:3},{value:"<code>CloseButton</code>",id:"closebutton",level:3},{value:"<code>LikedVideoCard</code>",id:"likedvideocard",level:3},{value:"Example Unit Tests",id:"example-unit-tests",level:2},{value:"BackButton Component",id:"backbutton-component",level:3},{value:"CloseButton Component",id:"closebutton-component",level:3},{value:"LikedVideoCard Component",id:"likedvideocard-component",level:3},{value:"Mocking Strategy",id:"mocking-strategy",level:2},{value:"React Router Mocking",id:"react-router-mocking",level:3},{value:"FontAwesome Mocking",id:"fontawesome-mocking",level:3},{value:"Video Player Mocking",id:"video-player-mocking",level:3},{value:"Browser API Mocking",id:"browser-api-mocking",level:3},{value:"Test Coverage Areas",id:"test-coverage-areas",level:2},{value:"\u2705 <strong>Component Logic</strong>",id:"-component-logic",level:3},{value:"\u2705 <strong>Edge Cases</strong>",id:"-edge-cases",level:3},{value:"\u2705 <strong>User Interactions</strong>",id:"-user-interactions",level:3},{value:"\u2705 <strong>Data Processing</strong>",id:"-data-processing",level:3},{value:"Running Component Tests",id:"running-component-tests",level:2},{value:"Commands",id:"commands",level:3},{value:"Test Structure",id:"test-structure",level:3},{value:"Expected Coverage",id:"expected-coverage",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Test Organization",id:"test-organization",level:3},{value:"Mocking Guidelines",id:"mocking-guidelines",level:3},{value:"Assertion Patterns",id:"assertion-patterns",level:3},{value:"Component Testing Philosophy",id:"component-testing-philosophy",level:2},{value:"Logic-First Approach",id:"logic-first-approach",level:3},{value:"Minimal Dependencies",id:"minimal-dependencies",level:3},{value:"Comprehensive Coverage",id:"comprehensive-coverage",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"component-unit-tests",children:"Component Unit Tests"}),"\n",(0,s.jsx)(e.h2,{id:"unit-testing-library-explanation",children:"Unit Testing Library Explanation"}),"\n",(0,s.jsxs)(e.p,{children:["For component unit testing, we use ",(0,s.jsx)(e.strong,{children:"Vitest"})," and ",(0,s.jsx)(e.strong,{children:"React component testing"}),"."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Vitest"})," provides fast, reliable testing with Jest-compatible syntax, making it ideal for testing React components and their logic. It supports comprehensive mocking and generates detailed coverage reports."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Component testing"})," allows us to test React components in isolation, focusing on their logic, props handling, and user interactions without requiring a full browser environment."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"These libraries are suitable for our component testing because they enable testing of UI logic, prop validation, and component behavior in isolation."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Focus:"})," Test React components in isolation to ensure UI logic, prop handling, and user interactions work as expected."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Tools:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Vitest:"})," Fast test runner with comprehensive mocking capabilities"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Component mocking:"})," Mock external dependencies and browser APIs"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Logic testing:"})," Test component logic without full rendering"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:"For each component, multiple test cases covering different scenarios."}),"\n",(0,s.jsx)(e.p,{children:"A test case consists of input props, mocked dependencies, and expected results."}),"\n",(0,s.jsx)(e.p,{children:"All external dependencies (routers, icons, video players) should be stubbed using mock objects."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"component-overview",children:"Component Overview"}),"\n",(0,s.jsx)(e.h3,{id:"backbutton",children:(0,s.jsx)(e.code,{children:"BackButton"})}),"\n",(0,s.jsx)(e.p,{children:"Navigation component that handles browser back functionality with fallback to home."}),"\n",(0,s.jsx)(e.h3,{id:"closebutton",children:(0,s.jsx)(e.code,{children:"CloseButton"})}),"\n",(0,s.jsx)(e.p,{children:"Simple button component that calls a close function when clicked."}),"\n",(0,s.jsx)(e.h3,{id:"likedvideocard",children:(0,s.jsx)(e.code,{children:"LikedVideoCard"})}),"\n",(0,s.jsx)(e.p,{children:"Complex video card component that displays video information, thumbnails, and handles user interactions."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"example-unit-tests",children:"Example Unit Tests"}),"\n",(0,s.jsx)(e.h3,{id:"backbutton-component",children:"BackButton Component"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Navigation function availability","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Component renders"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Navigation function is defined and callable"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Navigation logic handling","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Component with navigation logic"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Navigation function is a valid function"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Navigation capability","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Component with navigation props"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Navigation can be executed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"closebutton-component",children:"CloseButton Component"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Close function calls","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," close prop function"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Function is defined and can be called"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Multiple click handling","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Multiple click events"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Function handles multiple calls"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Undefined prop handling","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," close prop is undefined"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Component handles gracefully"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"likedvideocard-component",children:"LikedVideoCard Component"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Video object structure validation","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Video object with all properties"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," All required properties are present"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Missing playbackId handling","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Video without playbackId"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Component handles undefined playbackId"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Tag display logic","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Video with multiple tags"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Shows first 2 tags and remaining count"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Description truncation","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Long description (>60 chars)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"}),' Description truncated with "..."']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test:"})," Edge case handling","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Input:"})," Various edge cases (no tags, empty tags, special chars)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Expected Result:"})," Component handles all scenarios gracefully"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"mocking-strategy",children:"Mocking Strategy"}),"\n",(0,s.jsx)(e.h3,{id:"react-router-mocking",children:"React Router Mocking"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"const mockNavigate = vi.fn();\nvi.mock('react-router-dom', async () => {\n  const actual = await vi.importActual('react-router-dom');\n  return {\n    ...actual,\n    useNavigate: () => mockNavigate,\n  };\n});\n"})}),"\n",(0,s.jsx)(e.h3,{id:"fontawesome-mocking",children:"FontAwesome Mocking"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"vi.mock('@fortawesome/react-fontawesome', () => ({\n  FontAwesomeIcon: ({ icon }: { icon: any }) => <span data-testid=\"icon\">{icon.iconName}</span>,\n}));\n"})}),"\n",(0,s.jsx)(e.h3,{id:"video-player-mocking",children:"Video Player Mocking"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"vi.mock('@mux/mux-player-react', () => ({\n  default: ({ playbackId }: { playbackId: string }) => (\n    <div data-testid=\"mux-player\" data-playback-id={playbackId}>\n      Mock Mux Player\n    </div>\n  ),\n}));\n"})}),"\n",(0,s.jsx)(e.h3,{id:"browser-api-mocking",children:"Browser API Mocking"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// Conditional window.history mocking\nif (typeof window !== 'undefined') {\n  Object.defineProperty(window, 'history', {\n    value: mockHistory,\n    writable: true,\n  });\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"test-coverage-areas",children:"Test Coverage Areas"}),"\n",(0,s.jsxs)(e.h3,{id:"-component-logic",children:["\u2705 ",(0,s.jsx)(e.strong,{children:"Component Logic"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Prop validation and handling"}),"\n",(0,s.jsx)(e.li,{children:"Conditional rendering logic"}),"\n",(0,s.jsx)(e.li,{children:"Data transformation (truncation, formatting)"}),"\n",(0,s.jsx)(e.li,{children:"Event handling"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"-edge-cases",children:["\u2705 ",(0,s.jsx)(e.strong,{children:"Edge Cases"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Undefined props"}),"\n",(0,s.jsx)(e.li,{children:"Empty data arrays"}),"\n",(0,s.jsx)(e.li,{children:"Missing optional properties"}),"\n",(0,s.jsx)(e.li,{children:"Special characters in text"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"-user-interactions",children:["\u2705 ",(0,s.jsx)(e.strong,{children:"User Interactions"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Click event handling"}),"\n",(0,s.jsx)(e.li,{children:"Function call validation"}),"\n",(0,s.jsx)(e.li,{children:"Multiple interaction handling"}),"\n",(0,s.jsx)(e.li,{children:"Error state management"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"-data-processing",children:["\u2705 ",(0,s.jsx)(e.strong,{children:"Data Processing"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"String truncation logic"}),"\n",(0,s.jsx)(e.li,{children:"Array slicing and counting"}),"\n",(0,s.jsx)(e.li,{children:"Object property validation"}),"\n",(0,s.jsx)(e.li,{children:"Type checking"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"running-component-tests",children:"Running Component Tests"}),"\n",(0,s.jsx)(e.h3,{id:"commands",children:"Commands"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run all component tests\nnpm test BackButton.test.tsx CloseButton.test.tsx LikedVideoCard.test.tsx VideoComponent.test.tsx Login.test.tsx SignUp.test.tsx Onboarding.test.tsx ProfileSidebar.test.tsx ProtectedRoute.test.tsx\n\n# Run individual component tests\nnpm test BackButton.test.tsx\nnpm test VideoComponent.test.tsx\nnpm test LikedVideoCard.test.tsx\n# ... etc for each component\n"})}),"\n",(0,s.jsx)(e.h3,{id:"test-structure",children:"Test Structure"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Individual Component Tests\n\u251c\u2500\u2500 BackButton.test.tsx (5 tests)\n\u251c\u2500\u2500 CloseButton.test.tsx (5 tests)\n\u251c\u2500\u2500 LikedVideoCard.test.tsx (9 tests)\n\u251c\u2500\u2500 VideoComponent.test.tsx (12 tests)\n\u251c\u2500\u2500 Login.test.tsx (7 tests)\n\u251c\u2500\u2500 SignUp.test.tsx (7 tests)\n\u251c\u2500\u2500 Onboarding.test.tsx (9 tests)\n\u251c\u2500\u2500 ProfileSidebar.test.tsx (8 tests)\n\u2514\u2500\u2500 ProtectedRoute.test.tsx (9 tests)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"expected-coverage",children:"Expected Coverage"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"71 total test cases across 9 components"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"100% component logic coverage"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Comprehensive edge case coverage"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"Cross-platform compatibility"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"All project components tested individually"})}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(e.h3,{id:"test-organization",children:"Test Organization"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Group tests by component functionality"}),"\n",(0,s.jsx)(e.li,{children:"Use descriptive test names"}),"\n",(0,s.jsx)(e.li,{children:"Mock external dependencies consistently"}),"\n",(0,s.jsx)(e.li,{children:"Test both success and failure scenarios"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"mocking-guidelines",children:"Mocking Guidelines"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Mock browser APIs conditionally"}),"\n",(0,s.jsx)(e.li,{children:"Use simple mocks for complex components"}),"\n",(0,s.jsx)(e.li,{children:"Focus on logic rather than UI rendering"}),"\n",(0,s.jsx)(e.li,{children:"Test prop validation and handling"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"assertion-patterns",children:"Assertion Patterns"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Test function availability and types"}),"\n",(0,s.jsx)(e.li,{children:"Verify data transformation logic"}),"\n",(0,s.jsx)(e.li,{children:"Check edge case handling"}),"\n",(0,s.jsx)(e.li,{children:"Validate component behavior"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"component-testing-philosophy",children:"Component Testing Philosophy"}),"\n",(0,s.jsx)(e.h3,{id:"logic-first-approach",children:"Logic-First Approach"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Focus on testing component logic rather than UI rendering"}),"\n",(0,s.jsx)(e.li,{children:"Test data transformation and prop handling"}),"\n",(0,s.jsx)(e.li,{children:"Verify edge cases and error scenarios"}),"\n",(0,s.jsx)(e.li,{children:"Ensure cross-platform compatibility"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"minimal-dependencies",children:"Minimal Dependencies"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Mock external libraries and APIs"}),"\n",(0,s.jsx)(e.li,{children:"Avoid browser-specific testing in Node.js environment"}),"\n",(0,s.jsx)(e.li,{children:"Test component behavior in isolation"}),"\n",(0,s.jsx)(e.li,{children:"Use simple, reliable test patterns"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"comprehensive-coverage",children:"Comprehensive Coverage"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Test all component methods and logic"}),"\n",(0,s.jsx)(e.li,{children:"Cover edge cases and error scenarios"}),"\n",(0,s.jsx)(e.li,{children:"Validate prop handling and validation"}),"\n",(0,s.jsx)(e.li,{children:"Ensure robust component behavior"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"This approach ensures components are thoroughly tested while maintaining fast, reliable test execution across different environments."})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>r});var s=i(96540);const t={},l=s.createContext(t);function o(n){const e=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);