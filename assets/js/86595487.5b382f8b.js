"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[7231],{74108:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>a});var r=s(74848),i=s(28453);const d={sidebar_position:2,title:"Services API",description:"API endpoints for authentication, preferences, and video services"},t="Services API Documentation",l={id:"api-specification/services-api",title:"Services API",description:"API endpoints for authentication, preferences, and video services",source:"@site/docs/api-specification/services-api.md",sourceDirName:"api-specification",slug:"/api-specification/services-api",permalink:"/project-mentalhealthliteracyapp/docs/api-specification/services-api",draft:!1,unlisted:!1,editUrl:"https://github.com/Capstone-Projects-2025-Spring/project-mentalhealthliteracyapp/edit/main/documentation/docs/api-specification/services-api.md",tags:[],version:"current",lastUpdatedBy:"GustavoBenitez1",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Services API",description:"API endpoints for authentication, preferences, and video services"},sidebar:"docsSidebar",previous:{title:"API Overview",permalink:"/project-mentalhealthliteracyapp/docs/api-specification/design-api-intro"},next:{title:"Components API",permalink:"/project-mentalhealthliteracyapp/docs/api-specification/components-api"}},c={},a=[{value:"Authentication",id:"authentication",level:2},{value:"POST /api/login",id:"post-apilogin",level:3},{value:"POST /api/register",id:"post-apiregister",level:3},{value:"POST /api/signout",id:"post-apisignout",level:3},{value:"POST /api/reset-password",id:"post-apireset-password",level:3},{value:"Preferences",id:"preferences",level:2},{value:"POST /api/preferences/save",id:"post-apipreferencessave",level:3},{value:"GET /api/preferences/fetch",id:"get-apipreferencesfetch",level:3},{value:"GET /api/preferences/all",id:"get-apipreferencesall",level:3},{value:"Videos",id:"videos",level:2},{value:"GET /api/recommendations",id:"get-apirecommendations",level:3},{value:"GET /api/videos/all",id:"get-apivideosall",level:3},{value:"POST /api/videos/like",id:"post-apivideoslike",level:3},{value:"GET /api/videos/liked",id:"get-apivideosliked",level:3},{value:"Database Tables",id:"database-tables",level:2},{value:"users",id:"users",level:3},{value:"videos",id:"videos-1",level:3},{value:"preferences",id:"preferences-1",level:3},{value:"userPreferences",id:"userpreferences",level:3},{value:"categories",id:"categories",level:3},{value:"categoryPreferences",id:"categorypreferences",level:3},{value:"videoCategories",id:"videocategories",level:3},{value:"userInteractions",id:"userinteractions",level:3},{value:"Error Codes",id:"error-codes",level:2},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Authentication",id:"authentication-1",level:3},{value:"Preferences Storage",id:"preferences-storage",level:3},{value:"Video Service",id:"video-service",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"services-api-documentation",children:"Services API Documentation"}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.h3,{id:"post-apilogin",children:"POST /api/login"}),"\n",(0,r.jsx)(n.p,{children:"Authenticate user with email and password."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "email": "user@example.com",\n  "password": "password123"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "message": "Login successful"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 401,\n  "error": "Invalid credentials"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"post-apiregister",children:"POST /api/register"}),"\n",(0,r.jsx)(n.p,{children:"Create new user account."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "email": "user@example.com",\n  "password": "password123"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "message": "Registration successful"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 400,\n  "error": "Email already registered"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"post-apisignout",children:"POST /api/signout"}),"\n",(0,r.jsx)(n.p,{children:"Sign out current user."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request:"})," No body required"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "message": "Signout successful"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"post-apireset-password",children:"POST /api/reset-password"}),"\n",(0,r.jsx)(n.p,{children:"Request password reset email."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "email": "user@example.com"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "message": "Password reset email sent"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"preferences",children:"Preferences"}),"\n",(0,r.jsx)(n.h3,{id:"post-apipreferencessave",children:"POST /api/preferences/save"}),"\n",(0,r.jsx)(n.p,{children:"Save user preferences (interests and traits)."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "preferences": ["Anxiety", "Stress Management", "Mindfulness"]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "message": "Preferences saved"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 401,\n  "error": "User not authenticated"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apipreferencesfetch",children:"GET /api/preferences/fetch"}),"\n",(0,r.jsx)(n.p,{children:"Get current user's preferences."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "data": {\n    "interests": ["Anxiety", "Depression"],\n    "traits": ["Student", "Young Adult"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apipreferencesall",children:"GET /api/preferences/all"}),"\n",(0,r.jsx)(n.p,{children:"Get all available preferences."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "data": {\n    "interests": [\n      {"id": 1, "name": "Anxiety"},\n      {"id": 2, "name": "Depression"},\n      {"id": 3, "name": "Stress Management"}\n    ],\n    "traits": [\n      {"id": 4, "name": "Student"},\n      {"id": 5, "name": "Parent"},\n      {"id": 6, "name": "Professional"}\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"videos",children:"Videos"}),"\n",(0,r.jsx)(n.h3,{id:"get-apirecommendations",children:"GET /api/recommendations"}),"\n",(0,r.jsx)(n.p,{children:"Get personalized video recommendations based on user preferences."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"userId"})," (optional): Override current user"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "data": [\n    {\n      "id": 1,\n      "playbackId": "mux_playback_id",\n      "username": "creator123",\n      "description": "Understanding anxiety and coping strategies",\n      "likes": 42,\n      "tags": [\n        {"label": "Anxiety", "url": "/resources/anxiety"},\n        {"label": "CBT", "url": "/resources/cbt"}\n      ],\n      "isLiked": false\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Logic Flow:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check for authenticated user or localStorage preferences"}),"\n",(0,r.jsx)(n.li,{children:"Get user's preference IDs"}),"\n",(0,r.jsx)(n.li,{children:"Match preferences to categories"}),"\n",(0,r.jsx)(n.li,{children:"Fetch videos from matching categories"}),"\n",(0,r.jsx)(n.li,{children:"Append remaining videos for endless scroll"}),"\n",(0,r.jsx)(n.li,{children:"Return sorted by relevance and likes"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apivideosall",children:"GET /api/videos/all"}),"\n",(0,r.jsx)(n.p,{children:"Get all videos sorted by popularity."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "data": [\n    {\n      "id": 1,\n      "playbackId": "mux_playback_id",\n      "username": "creator123",\n      "description": "Mental health basics",\n      "likes": 100\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"post-apivideoslike",children:"POST /api/videos/like"}),"\n",(0,r.jsx)(n.p,{children:"Toggle like status for a video."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "videoId": 1\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "newLikeCount": 43,\n  "isLiked": true\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 401,\n  "error": "User must be authenticated to like videos"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-apivideosliked",children:"GET /api/videos/liked"}),"\n",(0,r.jsx)(n.p,{children:"Get all videos liked by current user."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": 200,\n  "data": [\n    {\n      "id": 1,\n      "playbackId": "mux_playback_id",\n      "username": "creator123",\n      "description": "My favorite mental health video",\n      "likes": 42,\n      "isLiked": true\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"database-tables",children:"Database Tables"}),"\n",(0,r.jsx)(n.h3,{id:"users",children:"users"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Managed by Supabase Auth"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"videos-1",children:"videos"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Primary key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"playbackId"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Mux video ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Creator name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"description"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Video caption"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"preferences-1",children:"preferences"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Primary key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Preference name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"type"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"'interest' or 'trait'"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"userpreferences",children:"userPreferences"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"user_id"}),(0,r.jsx)(n.td,{children:"uuid"}),(0,r.jsx)(n.td,{children:"Foreign key to users"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preference_id"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to preferences"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"categories",children:"categories"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"id"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Primary key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Category name"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"categorypreferences",children:"categoryPreferences"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"categoryId"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to categories"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preferenceId"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to preferences"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"videocategories",children:"videoCategories"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"videoId"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to videos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"categoryId"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to categories"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"userinteractions",children:"userInteractions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Column"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"user_id"}),(0,r.jsx)(n.td,{children:"uuid"}),(0,r.jsx)(n.td,{children:"Foreign key to users"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"videoId"}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Foreign key to videos"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"like"}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"Like status"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Code"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"200"}),(0,r.jsx)(n.td,{children:"Success"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"Bad Request - Invalid parameters"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"401"}),(0,r.jsx)(n.td,{children:"Unauthorized - Authentication required"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:"Not Found - Resource doesn't exist"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"500"}),(0,r.jsx)(n.td,{children:"Server Error - Internal error"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,r.jsx)(n.h3,{id:"authentication-1",children:"Authentication"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses Supabase Auth for user management"}),"\n",(0,r.jsx)(n.li,{children:"Sessions stored in Redux state"}),"\n",(0,r.jsx)(n.li,{children:"JWT tokens handled by Supabase"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"preferences-storage",children:"Preferences Storage"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Authenticated users: Stored in database"}),"\n",(0,r.jsx)(n.li,{children:"Non-authenticated users: Stored in localStorage"}),"\n",(0,r.jsx)(n.li,{children:"Preference matching uses junction tables for many-to-many relationships"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"video-service",children:"Video Service"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Like counts calculated from userInteractions table"}),"\n",(0,r.jsx)(n.li,{children:"Tags generated dynamically from video descriptions"}),"\n",(0,r.jsx)(n.li,{children:"Recommendations prioritize preference matches, then sort by likes"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(96540);const i={},d=r.createContext(i);function t(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);