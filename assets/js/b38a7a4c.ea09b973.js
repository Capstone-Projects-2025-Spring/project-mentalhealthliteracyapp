"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[7192],{93578:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var i=s(74848),r=s(28453);const t={sidebar_position:2},l="VideoService Unit Tests",d={id:"testing/video-service-unit-testing",title:"VideoService Unit Tests",description:"Unit Testing Library Explanation",source:"@site/docs/testing/video-service-unit-testing.md",sourceDirName:"testing",slug:"/testing/video-service-unit-testing",permalink:"/project-mentalhealthliteracyapp/docs/testing/video-service-unit-testing",draft:!1,unlisted:!1,editUrl:"https://github.com/Capstone-Projects-2025-Spring/project-mentalhealthliteracyapp/edit/main/documentation/docs/testing/video-service-unit-testing.md",tags:[],version:"current",lastUpdatedBy:"Shyke50",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Integration tests",permalink:"/project-mentalhealthliteracyapp/docs/testing/integration-testing"},next:{title:"Acceptance Tests",permalink:"/project-mentalhealthliteracyapp/docs/testing/acceptance-testing"}},c={},o=[{value:"Unit Testing Library Explanation",id:"unit-testing-library-explanation",level:2},{value:"VideoService Methods Overview",id:"videoservice-methods-overview",level:2},{value:"<code>getTagsForVideo(description: string)</code>",id:"gettagsforvideodescription-string",level:3},{value:"<code>processVideosWithLike(videos: any[])</code>",id:"processvideoswithlikevideos-any",level:3},{value:"<code>updateLike(videoId: number)</code>",id:"updatelikevideoid-number",level:3},{value:"<code>getLikedVideos()</code>",id:"getlikedvideos",level:3},{value:"Example Unit Tests",id:"example-unit-tests",level:2},{value:"Tag Generation (<code>getTagsForVideo</code>)",id:"tag-generation-gettagsforvideo",level:3},{value:"Video Processing (<code>processVideosWithLike</code>)",id:"video-processing-processvideoswithlike",level:3},{value:"Like Functionality (<code>updateLike</code>)",id:"like-functionality-updatelike",level:3},{value:"Liked Videos Retrieval (<code>getLikedVideos</code>)",id:"liked-videos-retrieval-getlikedvideos",level:3},{value:"Mocking Strategy",id:"mocking-strategy",level:2},{value:"Supabase Client Mocking",id:"supabase-client-mocking",level:3},{value:"Database Query Mocking",id:"database-query-mocking",level:3},{value:"Error Scenario Mocking",id:"error-scenario-mocking",level:3},{value:"Test Coverage Areas",id:"test-coverage-areas",level:2},{value:"\u2705 <strong>Core Functionality</strong>",id:"-core-functionality",level:3},{value:"\u2705 <strong>Authentication Scenarios</strong>",id:"-authentication-scenarios",level:3},{value:"\u2705 <strong>Error Handling</strong>",id:"-error-handling",level:3},{value:"\u2705 <strong>Edge Cases</strong>",id:"-edge-cases",level:3},{value:"Running VideoService Tests",id:"running-videoservice-tests",level:2},{value:"Command",id:"command",level:3},{value:"Test Structure",id:"test-structure",level:3},{value:"Expected Coverage",id:"expected-coverage",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Test Organization",id:"test-organization",level:3},{value:"Mocking Guidelines",id:"mocking-guidelines",level:3},{value:"Assertion Patterns",id:"assertion-patterns",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"videoservice-unit-tests",children:"VideoService Unit Tests"}),"\n",(0,i.jsx)(n.h2,{id:"unit-testing-library-explanation",children:"Unit Testing Library Explanation"}),"\n",(0,i.jsxs)(n.p,{children:["For VideoService unit testing, we use ",(0,i.jsx)(n.strong,{children:"Vitest"})," and ",(0,i.jsx)(n.strong,{children:"Supabase mocking"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vitest"})," provides fast, reliable testing with Jest-compatible syntax, making it ideal for testing service classes and utility functions. It supports comprehensive mocking and generates detailed coverage reports."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Supabase mocking"})," allows us to test database interactions without requiring a real database connection, ensuring tests are fast, reliable, and isolated from external dependencies."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These libraries are suitable for our VideoService because they enable testing of complex business logic, database interactions, and error handling scenarios in isolation."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Focus:"})," Test VideoService methods in isolation to ensure video processing, like functionality, and tag generation work as expected."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Tools:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vitest:"})," Fast test runner with comprehensive mocking capabilities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Supabase mocking:"})," Mock database interactions using ",(0,i.jsx)(n.code,{children:"vi.mock()"})," and ",(0,i.jsx)(n.code,{children:"vi.hoisted()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error simulation:"})," Test various error scenarios and edge cases"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"For each method, multiple test cases covering different scenarios."}),"\n",(0,i.jsx)(n.p,{children:"A test case consists of input parameter values, mocked dependencies, and expected results."}),"\n",(0,i.jsx)(n.p,{children:"All external dependencies (Supabase, authentication) should be stubbed using mock objects."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"videoservice-methods-overview",children:"VideoService Methods Overview"}),"\n",(0,i.jsx)(n.h3,{id:"gettagsforvideodescription-string",children:(0,i.jsx)(n.code,{children:"getTagsForVideo(description: string)"})}),"\n",(0,i.jsx)(n.p,{children:"Generates tags based on video description content using keyword matching."}),"\n",(0,i.jsx)(n.h3,{id:"processvideoswithlikevideos-any",children:(0,i.jsx)(n.code,{children:"processVideosWithLike(videos: any[])"})}),"\n",(0,i.jsx)(n.p,{children:"Processes video arrays, adds tags, and determines like status for authenticated users."}),"\n",(0,i.jsx)(n.h3,{id:"updatelikevideoid-number",children:(0,i.jsx)(n.code,{children:"updateLike(videoId: number)"})}),"\n",(0,i.jsx)(n.p,{children:"Handles like/unlike functionality with database updates and user authentication."}),"\n",(0,i.jsx)(n.h3,{id:"getlikedvideos",children:(0,i.jsx)(n.code,{children:"getLikedVideos()"})}),"\n",(0,i.jsx)(n.p,{children:"Retrieves videos that the current authenticated user has liked."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"example-unit-tests",children:"Example Unit Tests"}),"\n",(0,i.jsxs)(n.h3,{id:"tag-generation-gettagsforvideo",children:["Tag Generation (",(0,i.jsx)(n.code,{children:"getTagsForVideo"}),")"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"}),' Returns CBT tag when description contains "cbt"',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," description = 'This is a CBT therapy session'"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Array containing ",(0,i.jsx)(n.code,{children:"{ label: 'CBT', url: '/resources/cbt' }"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Returns multiple tags for multiple keywords","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," description = 'CBT therapy for depression and stress management'"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Array containing CBT, Therapy, Depression, and Stress tags"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Case insensitive matching","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," description = 'CBT THERAPY for ANXIETY'"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Tags found regardless of case"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Returns empty array when no keywords found","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," description = 'Just a regular video about cooking'"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Empty array ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"video-processing-processvideoswithlike",children:["Video Processing (",(0,i.jsx)(n.code,{children:"processVideosWithLike"}),")"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Processes videos for unauthenticated users","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videos array, user = null"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Videos with tags but ",(0,i.jsx)(n.code,{children:"isLiked: false"})," for all"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Processes videos for authenticated users with likes","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videos array, user = authenticated, userLikes = [videoId: 1]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Videos with correct like status based on user's likes"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Handles database errors gracefully","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videos array, database error when fetching likes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Videos processed without like status, no error thrown"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Throws error when Supabase client unavailable","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videos array, supabase = null"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Error thrown with message 'Supabase client not available'"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"like-functionality-updatelike",children:["Like Functionality (",(0,i.jsx)(n.code,{children:"updateLike"}),")"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Likes a video when user hasn't liked before","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videoId = 1, user = authenticated, no existing interaction"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," ",(0,i.jsx)(n.code,{children:"{ success: true, newLikeCount: 6, isLiked: true }"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Unlikes a video when user has already liked","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videoId = 1, user = authenticated, existing like = true"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," ",(0,i.jsx)(n.code,{children:"{ success: true, newLikeCount: 5, isLiked: false }"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Throws error for unauthenticated users","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videoId = 1, user = null"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Error thrown with message 'User must be authenticated to like videos'"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Handles database errors gracefully","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," videoId = 1, database error during operation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Error thrown with database error message"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"liked-videos-retrieval-getlikedvideos",children:["Liked Videos Retrieval (",(0,i.jsx)(n.code,{children:"getLikedVideos"}),")"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Returns liked videos for authenticated user","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," user = authenticated, likedVideoIds = [1, 2], videos data available"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Array of liked videos with ",(0,i.jsx)(n.code,{children:"isLiked: true"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Returns empty array when user has no liked videos","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," user = authenticated, likedVideoIds = []"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Empty array ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Returns empty array for unauthenticated users","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," user = null"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Empty array ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test:"})," Handles database errors gracefully","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input:"})," user = authenticated, database error when fetching data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expected Result:"})," Empty array ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"mocking-strategy",children:"Mocking Strategy"}),"\n",(0,i.jsx)(n.h3,{id:"supabase-client-mocking",children:"Supabase Client Mocking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const mockSupabase = vi.hoisted(() => ({\n  auth: {\n    getUser: vi.fn(),\n  },\n  from: vi.fn(),\n}));\n\nvi.mock('../../lib/supabase', () => ({\n  default: () => mockSupabase,\n}));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"database-query-mocking",children:"Database Query Mocking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Mock complex chained queries\nconst mockSelect = vi.fn().mockReturnValue({\n  eq: vi.fn().mockReturnValue({\n    eq: vi.fn().mockResolvedValue({ data: mockData, error: null }),\n  }),\n});\n\nmockSupabase.from.mockReturnValue({\n  select: mockSelect,\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"error-scenario-mocking",children:"Error Scenario Mocking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Mock database errors\nmockSupabase.from.mockReturnValue({\n  select: vi.fn().mockReturnValue({\n    eq: vi.fn().mockReturnValue({\n      eq: vi.fn().mockResolvedValue({ data: null, error: 'Database error' }),\n    }),\n  }),\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"test-coverage-areas",children:"Test Coverage Areas"}),"\n",(0,i.jsxs)(n.h3,{id:"-core-functionality",children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Core Functionality"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tag generation from video descriptions"}),"\n",(0,i.jsx)(n.li,{children:"Video processing with like status"}),"\n",(0,i.jsx)(n.li,{children:"Like/unlike operations"}),"\n",(0,i.jsx)(n.li,{children:"Liked videos retrieval"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"-authentication-scenarios",children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Authentication Scenarios"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Authenticated users"}),"\n",(0,i.jsx)(n.li,{children:"Unauthenticated users"}),"\n",(0,i.jsx)(n.li,{children:"Missing user data"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"-error-handling",children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Error Handling"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Database connection errors"}),"\n",(0,i.jsx)(n.li,{children:"Authentication failures"}),"\n",(0,i.jsx)(n.li,{children:"Missing Supabase client"}),"\n",(0,i.jsx)(n.li,{children:"Invalid data scenarios"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"-edge-cases",children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Edge Cases"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Empty video arrays"}),"\n",(0,i.jsx)(n.li,{children:"No liked videos"}),"\n",(0,i.jsx)(n.li,{children:"Multiple keywords in descriptions"}),"\n",(0,i.jsx)(n.li,{children:"Case sensitivity in tag matching"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"running-videoservice-tests",children:"Running VideoService Tests"}),"\n",(0,i.jsx)(n.h3,{id:"command",children:"Command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm test videoService.test.ts\n"})}),"\n",(0,i.jsx)(n.h3,{id:"test-structure",children:"Test Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"VideoService - Unit Tests\n\u251c\u2500\u2500 getTagsForVideo (5 tests)\n\u251c\u2500\u2500 processVideosWithLike (4 tests)\n\u251c\u2500\u2500 updateLike (4 tests)\n\u2514\u2500\u2500 getLikedVideos (4 tests)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"expected-coverage",children:"Expected Coverage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"17 total test cases"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"100% method coverage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Comprehensive error scenario coverage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Authentication flow coverage"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"test-organization",children:"Test Organization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Group tests by method functionality"}),"\n",(0,i.jsx)(n.li,{children:"Use descriptive test names"}),"\n",(0,i.jsx)(n.li,{children:"Mock external dependencies consistently"}),"\n",(0,i.jsx)(n.li,{children:"Test both success and failure scenarios"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mocking-guidelines",children:"Mocking Guidelines"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"vi.hoisted()"})," for module-level mocks"]}),"\n",(0,i.jsx)(n.li,{children:"Mock complex chained method calls"}),"\n",(0,i.jsx)(n.li,{children:"Simulate realistic error scenarios"}),"\n",(0,i.jsx)(n.li,{children:"Clear mock setup and teardown"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"assertion-patterns",children:"Assertion Patterns"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Test return values and side effects"}),"\n",(0,i.jsx)(n.li,{children:"Verify error messages and types"}),"\n",(0,i.jsx)(n.li,{children:"Check database interaction patterns"}),"\n",(0,i.jsx)(n.li,{children:"Validate data transformation logic"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);